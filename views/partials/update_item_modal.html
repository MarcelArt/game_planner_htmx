<!-- https://play.tailwindcss.com/589GVNvd8f -->
<div class="absolute left-0 top-0 flex h-full w-full justify-end bg-gray-900 bg-opacity-75">
  <div class="right-9 w-1/3 rounded-l-lg bg-white shadow opacity-100">
    <h1 class="text-xl font-bold mx-2 my-4">Update {{ .Name }}</h1>
    <form
      class="border-b-2 border-black mx-2"
      hx-put="/item/update/{{ .ID }}"
      hx-target="#result"
      hx-target-error="#result"
      hx-encoding="multipart/form-data"
    >
      <div class="m-2">
        <label for="name" class="block text-sm font-medium">Item Name</label>
        <input
          type="text"
          id="name"
          name="name"
          required
          value="{{ .Name }}"
          class="mt-1 p-1 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"
        />
      </div>
      <div class="m-2">
        <label for="picture" class="block text-sm font-medium">Item Icon</label>
        <label for="picture">
          <img id="item-picture" class="rounded-lg shadow-lg cursor-pointer w-12 h-12" src="{{ .Picture }}" />
        </label>
        <input type="file" id="picture" name="picture" class="hidden" />
      </div>
      <div class="m-2 flex flex-row-reverse gap-1">
        <button class="bg-green-600 hover:bg-green-700 text-white py-1 px-2 rounded-lg">Save</button>
        <button
          type="button"
          hx-get="/item/{{ .GameID }}"
          hx-target="#created-game-detail-content"
          class="bg-red-600 hover:bg-red-700 text-white py-1 px-2 rounded-lg"
        >
          Cancel
        </button>
      </div>
    </form>
    <h1 class="text-xl font-bold mx-2 my-4">{{ .Name }} Recipes</h1>
  </div>
</div>
<div class="fixed bottom-0 right-0 m-4 p-2 rounded w-2/12 self-start" id="result"></div>
<script>
  document.querySelector('#picture').addEventListener('change', function () {
    const file = this.files[0];
    const img = document.getElementById('item-picture');

    if (file) {
      const reader = new FileReader();
      reader.onload = function (e) {
        img.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }
  });
</script>
